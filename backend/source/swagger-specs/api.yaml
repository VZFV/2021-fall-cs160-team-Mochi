swagger: '2.0'
info:
  description: This is the Public API for MochiNote
  version: 1.0.0
  title: MochiNote

schemes:
- http
- https

paths:
  /v1/login:
    post:
      description: handle login request, username and password
      produces:
        - application/json
      consumes:
        - application/json
      tags:
      - UserMgmtV1
      summary: Sign up or log in
      operationId: loginV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: false
      - name: body
        in: body
        description: user object
        required: true
        schema:
          $ref: '#/definitions/createUserObject'
      - name: signup
        default: false
        type: boolean
        in: query
        description: Do sign up operation if set to true
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/loginResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
  /v1/user:
    get:
      description: get user info
      produces:
        - application/json
      tags:
      - UserMgmtV1
      summary: Get user info
      operationId: getUserV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/userObj'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
    patch:
      description: update user info
      produces:
        - application/json
      consumes:
        - application/json
      tags:
      - UserMgmtV1
      summary: Update user info
      operationId: updateUserInfoV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      - name: body
        description: new user info body
        in: body
        schema:
          $ref: '#/definitions/updateUserObj'
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/userObj'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
  /v1/user/username/{username}:
    get:
      description: search by username
      produces:
        - application/json
      tags:
      - UserMgmtV1
      summary: search by username
      operationId: searchUserV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      - name: username
        description: username
        type: string
        in: path
        required: true
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/userObj'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
  /v1/password/{password}:
    patch:
      description: update password
      produces:
        - application/json
      tags:
      - UserMgmtV1
      summary: Update password
      operationId: updatePasswordV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      - name: password
        description: password
        type: string
        in: path
        required: true
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/userObj'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'

  /v1/notes:
    post:
      description: add note 
      produces:
        - application/json
      consumes:
        - application/json
      tags:
      - notesV1
      summary: add note
      operationId: uploadNoteV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      - name: body
        in: body
        description: note object
        required: true
        schema:
          $ref: '#/definitions/noteObjectRequest'
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/noteResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
  /v1/notes/username:
    get: 
      tags: 
      - notesV1
      summary: find notes by username
      description: one username can be provided to search
      operationId: "findNotesByUsername"
      produces:
        - application/json
      parameters:
        - name: Authorization
          description: Bearer token based Authorization
          type: string
          in: header
          required: true
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/notesGetResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
  /v1/notes/search/{tags}:
    get: 
      tags: 
      - notesV1
      summary: find notes by tags
      description: one tag can be provided to search
      operationId: "findNotesByTags"
      produces:
          - application/json
      parameters:
        - name: Authorization
          description: Bearer token based Authorization
          type: string
          in: header
          required: true
        - name: tags
          in: path
          description: tags to filter by
          required: true
          type: string
        - name: limit
          description: limit of files
          default: 20
          in: query
          type: integer
          required: false
        - name: offset
          description: offset of files
          in: query
          required: false
          default: 0
          type: integer
        - name: updated_at
          description: updated at
          in: query
          default: true
          required: false
          type: boolean
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/notesGetResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
  /v1/notes/{id}:
    delete: 
      tags: 
      - notesV1
      summary: delete note
      description: user delete note by id
      operationId: "deleteNoteV1"
      produces:
          - application/json
      parameters:
        - name: Authorization
          description: Bearer token based Authorization
          type: string
          in: header
          required: true
        - name: id
          in: path
          description: id to filter by
          required: true
          type: string
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/noteResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
    get: 
      tags: 
      - notesV1
      summary: get single note
      description: user 
      operationId: getSingleNoteV1
      produces:
          - application/json
      parameters:
        - name: Authorization
          description: Bearer token based Authorization
          type: string
          in: header
          required: true
        - name: id
          in: path
          description: id to filter by
          required: true
          type: string
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/noteObjectResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
    put: 
      tags: 
      - notesV1
      summary: update note
      description: user update note by id
      operationId: "updateNote"
      produces:
        - application/json
      consumes:
        - application/json
      parameters:
        - name: Authorization
          description: Bearer token based Authorization
          type: string
          in: header
          required: true
        - name: id
          in: path
          description: title to filter by
          required: true
          type: string
        - name: body
          in: body
          description: note object
          required: true
          schema:
            $ref: '#/definitions/noteObjectUpdate'
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/noteObjectResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
  /v1/notes/{id}/members:
    post:
      description: add members of notes
      consumes:
        - application/json
      produces:
        - application/json
      tags:
      - notesV1
      summary: add members of notes
      operationId: addNoteMembersV1
      parameters:
        - name: Authorization
          description: Bearer token based Authorization
          type: string
          in: header
          required: true
        - name: body
          in: body
          description: note members
          required: true
          schema:
            $ref: '#/definitions/noteMembersRequest'
        - name: id
          in: path
          description: note_id to filter by
          required: true
          type: string
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/noteResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
    delete:
      description: remove members of notes
      consumes:
        - application/json
      produces:
        - application/json
      tags:
      - notesV1
      summary: remove members of notes
      operationId: removeNoteMembersV1
      parameters:
        - name: Authorization
          description: Bearer token based Authorization
          type: string
          in: header
          required: true
        - name: body
          in: body
          description: note members
          required: true
          schema:
            $ref: '#/definitions/noteMembersRequest'
        - name: id
          in: path
          description: note_id to filter by
          required: true
          type: string
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/noteResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
    get:
      description: get members of notes
      produces:
        - application/json
      tags:
      - notesV1
      summary: get members of notes
      operationId: getNoteMembersV1
      parameters:
        - name: Authorization
          description: Bearer token based Authorization
          type: string
          in: header
          required: true
        - name: id
          in: path
          description: note_id to filter by
          required: true
          type: string
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/getNoteMembersResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
  /v1/notes/group/{group_id}:
    get:
      description: get group notes
      produces:
        - application/json
      tags:
      - notesV1
      summary: get group notes
      operationId: getGroupNotesV1
      parameters:
        - name: Authorization
          description: Bearer token based Authorization
          type: string
          in: header
          required: true
        - name: group_id
          in: path
          description: group_id to filter by
          required: true
          type: string
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/notesGetResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
  /v1/notes/{note_id}/comments:
    get:
      description: get all comments of a note
      produces:
        - application/json
      tags:
      - notesV1
      summary: get all comments of a note 
      operationId: getNoteComments
      parameters:
        - name: Authorization
          description: Bearer token based Authorization
          type: string
          in: header
          required: true
        - name: note_id
          in: path
          description: note id
          required: true
          type: string
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/noteCommentsResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
  /v1/notes/file:
    post:
      description: post a pdf file
      consumes:
        - multipart/form-data
      produces:
        - application/json
      tags:
      - notesV1
      summary: post a pdf file
      operationId: postFileV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      - name: noteFile
        description: note file
        in: formData
        type: file
        required: true
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/postFileResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
  /v1/notes/file/{path}:
    get:
      description: get a pdf file
      produces:
        - application/json
      tags:
      - notesV1
      summary: get a pdf file
      operationId: getFileV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      - name: path
        in: path
        type: string
        description: file path
        required: true
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/getFileResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
  /v1/notes/files:
    post:
      description: get multiple pdf files
      produces:
        - application/json
      consumes:
        - application/json
      tags:
      - notesV1
      summary: get multiple pdf files
      operationId: getMultipleFilesV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      - name: body
        description: path array
        in: body
        required: true
        schema:
          $ref: '#/definitions/getFilesRequest'
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/getFilesResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'

  /v1/comments:
    post:
      description: add comment
      produces:
        - application/json
      consumes:
        - application/json
      tags:
      - commentsV1
      summary: add comment
      operationId: postCommentsV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      - name: body
        in: body
        description: comment object
        required: true
        schema:
          $ref: '#/definitions/commentObjectRequest'
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/commentResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
  /v1/comments/{comment_id}:
    delete:
      description: delete comment
      produces: 
        - application/json      
      tags:
      - commentsV1
      summary: delete a comment
      operationId: removeComnentV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      - name: comment_id
        in: path
        description: comment id
        required: true
        type: string
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/commentResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'

  /v1/groups:
    post:
      description: create a group
      operationId: createGroupV1
      produces:
        - application/json
      consumes:
        - application/json
      tags:
      - groupsV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      - name: body
        in: body
        description: group object
        required: true
        schema:
          $ref: "#/definitions/postGroupObj"
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/groupResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
    get:
      description: get all groups
      operationId: getGroupsV1
      produces:
        - application/json
      tags:
      - groupsV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/getAllGroupsObject'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
  /v1/groups/{group_id}:
    delete:
      description: delete a group
      operationId: deleteGroupV1
      produces:
        - application/json
      tags:
      - groupsV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      - name: group_id
        type: string
        in: path
        description: group id
        required: true
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/groupResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
    get:
      description: get a group info
      operationId: getGroupInfoV1
      produces:
        - application/json
      tags:
      - groupsV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      - name: group_id
        type: string
        in: path
        description: group id
        required: true
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/groupObj'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
  /v1/groups/{group_id}/members:
    get:
      description: get group users
      operationId: getGroupUsersV1
      produces:
        - application/json
      tags:
      - groupsV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      - name: group_id
        type: string
        in: path
        description: group id
        required: true
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/groupMembersObject'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
    post:
      description: add group users
      operationId: addGroupUsersV1
      produces:
        - application/json
      consumes:
        - application/json
      tags:
      - groupsV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      - name: group_id
        type: string
        in: path
        description: group id
        required: true
      - name: body
        in: body
        description: array of users
        schema:
          $ref: '#/definitions/groupMembers'
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/groupResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
    delete:
      description: remove group users
      operationId: removeGroupUsersV1
      produces:
        - application/json
      consumes:
        - application/json
      tags:
      - groupsV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      - name: group_id
        type: string
        in: path
        description: group id
        required: true
      - name: body
        in: body
        description: array of users
        schema:
          $ref: '#/definitions/groupMembers'
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/groupResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
  /v1/friends:
    post: 
      description: add friends
      operationId: addFriendsV1
      produces:
        - application/json
      consumes:
        - application/json
      tags:
      - friendsV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      - name: body
        in: body
        description: username and username2
        schema:
          $ref: '#/definitions/postfriends'
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/friendResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
    get: 
      description: get friends info
      operationId: getFriendsV1
      produces:
        - application/json
      tags:
      - friendsV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/getFriendObject'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
  /v1/friends/{username}:
    delete: 
      description: remove friends
      operationId: removeFriendsV1
      produces:
        - application/json
      consumes:
        - application/json
      tags:
      - friendsV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      - name: username
        type: string
        in: path
        description: username
        required: true
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/friendResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse' 
  /v1/images:
    post:
      description: post a user image
      consumes:
        - multipart/form-data
      produces:
        - application/json
      tags:
      - userImagesV1
      summary: post a user image
      operationId: postUserImagesV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      - name: userImage
        description: user image
        in: formData
        type: file
        required: true
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/successResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
    get:
      description: get a user image
      produces:
        - application/json
      tags:
      - userImagesV1
      summary: get a user image
      operationId: getUserImagesV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/userImagesResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'
  /v1/images/multiple:
    post:
      description: get multiple user images
      consumes:
        - application/json
      produces:
        - application/json
      tags:
      - userImagesV1
      summary: get multiple user images
      operationId: getMultipleUserImagesV1
      parameters:
      - name: Authorization
        description: Bearer token based Authorization
        type: string
        in: header
        required: true
      - name: body
        in: body
        description: array of users
        schema:
          $ref: '#/definitions/groupMembers'
      responses:
        200:
          description: Success
          schema:
            $ref: '#/definitions/multipleUserImagesResponse'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/errResponse'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/errResponse'
        403:
          description: "Forbidden"
          schema:
            $ref: '#/definitions/errResponse'
        404:
          description: "Not Found"
          schema:
            $ref: '#/definitions/errResponse'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/errResponse'
        500:
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errResponse'

definitions:
  createUserObject:
    type: object
    required:
    - username
    - password
    properties:
      username: 
        description: username of the user
        type: string
      password:
        description: password of the user
        type: string
      description:
        description: description of the user
        type: string
      first_name: 
        description: first name of the user
        type: string
      middle_name: 
        description: middle name of the user
        type: string
      last_name: 
        description: last name of the user
        type: string
      email: 
        description: email of the user
        type: string
  updateUserObj:
    type: object
    properties:
      description:
        description: description of the user
        type: string
      first_name: 
        description: first name of the user
        type: string
      middle_name: 
        description: middle name of the user
        type: string
      last_name: 
        description: last name of the user
        type: string
      email: 
        description: email of the user
        type: string
  userObj:
    type: object
    properties:
      username: 
        description: username of the user
        type: string
      description:
        description: description of the user
        type: string
      first_name: 
        description: first name of the user
        type: string
      middle_name: 
        description: middle name of the user
        type: string
      last_name: 
        description: last name of the user
        type: string
      email: 
        description: email of the user
        type: string
  groupUser:
    type: object
    properties:
      username: 
        description: username of the user
        type: string
  groupMembers:
    type: object
    properties:
      users:
        type: array
        items:
          $ref: '#/definitions/groupUser'
        description: array of group users
  postGroupObj:
    required:
    - group_name
    type: object
    properties:
      group_name:
        description: group name
        type: string
      description:
        description: group's desciption
        type: string
  groupObj:
    type: object
    properties:
      group_id: 
        type: string
        description: group id
      group_name:
        description: group name
        type: string
      description:
        description: group's desciption
        type: string
      group_owner:
        description: group owner
        type: string
  postfriends:
    type: object
    properties:
      username2:
        description: friend name
        type: string
  getFriendObject:
    type: object
    properties:
      friends:
        type: array
        items:
          $ref: "#/definitions/friendResponse"
        description: array of friends username
  groupMembersObject:
    type: object
    properties:
      users:
        type: array
        items:
          $ref: '#/definitions/userObj'
        description: array of group users
  getAllGroupsObject:
    type: object
    properties:
      allGroups:
        type: array
        items:
          $ref: '#/definitions/groupObj'
        description: array of groups by username
  groupResponse: 
    type: object
    properties:
      group_id:
        type: string
        description: group_id
  friendResponse:
    type: object
    properties:   
      username: 
        type: string
        description: username
  noteObjectUpdate:
    description: note obj
    properties:
      description:
        description: description of the note
        type: string
      title:
        description: title of the note
        type: string
      type: 
        description: type of the note file, public, shared, private
        type: string
      tag: 
        description: tags of the note
        type: string
      style: 
        description: style of the note
        type: string
  noteObjectRequest:
    description: note obj
    required:
    - tag
    - type
    - note_reference
    - style
    properties:
      description:
        description: description of the note
        type: string
      title:
        description: title of the note
        type: string
      type: 
        description: type of the note file, public, shared, private
        type: string
        enum: [private,shared,public]
        default: private
      tag: 
        description: tags of the note
        type: string
      note_reference:
        description: path of file
        type: string
      style: 
        description: style of the note
        type: string
  noteObjectResponse: 
    description: note obj response
    properties:
      note_id:
        description: note id
        type: string
      note_owner:
        description: owner of the note
        type: string
      description:
        description: description of the note
        type: string
      title:
        description: title of the note
        type: string
      type: 
        description: type of the note file, public, shared, private
        type: string
      tag: 
        description: tags of the note
        type: string
      note_reference:
        description: path of file
        type: string
      style: 
        description: style of the note
        type: string
  noteCommentsResponse:
    type: object
    properties:
      comments:
        type: array
        items:
          $ref: "#/definitions/commentObject"
        description: array of comments of a note
  commentObject:
    type: object
    properties:
      note_id: 
        description: the note corresponding to comment_id
        type: string
      content:
        description: content of the comment
        type: string
      username:
        description: user who submit the comment
        type: string
      comment_id:
        description: comment id
        type: string
  commentObjectRequest:
    type: object
    required:
    - note_id
    - content
    properties:
      note_id: 
        description: the note corresponding to comment_id
        type: string
      content:
        description: content of the comment
        type: string
  loginResponse:
    type: object
    properties:
      username:
        description: username of the user
        type: string
      token:
        description: jwt
        type: string
  notesGetResponse:
    type: object
    properties:
      notes:
        type: array
        items: 
          $ref: "#/definitions/noteObjectResponse"
    description: array of note
  noteResponse:
    type: object
    properties:
      note_id:
        description: note id
        type: string
  noteUserRequest:
    type: object
    properties:
      username:
        type: string
        description: username of a user
  noteGroupRequest:
    type: object
    properties:
      group_id:
        type: string
        description: group id of a group
  noteMembersRequest:
    type: object
    properties:
      users:
        type: array
        items: 
          $ref: '#/definitions/noteUserRequest'
      groups:
        type: array
        items: 
          $ref: '#/definitions/noteGroupRequest'
  getNoteMembersResponse:
    type: object
    properties:
      users: 
        type: array
        items:
          $ref: '#/definitions/userObj'
      groups:
        type: array
        items: 
          $ref: '#/definitions/groupObj'
  commentResponse:
    type: object
    properties:
      comment_id: 
        description: the note corresponding to comment_id
        type: string
  successResponse:
    type: object
    properties:
      message:
        type: string
        description: success message
      status_code:
        type: integer
        format: int32
        description: status code
  errResponse:
    type: object
    properties:
      errMessage:
        description: error message
        type: string
      status_code:
        description: http error code
        type: integer
        format: int32
  postFileResponse:
    type: object
    properties:
      note_reference:
        description: path of file
        type: string
  userImagesResponse:
    type: object
    properties:
      user_image:
        type: object
        description: user image
      type:
        type: string
        description: type of pic
  multipleUserImagesResponse:
    type: object
    properties:
      images:
        type: array
        items:
          $ref: '#/definitions/userImagesResponse'
        description: multiple user images
      count:
        type: integer
        format: int32
        description: count of user images
  getFileResponse:
    type: object
    properties:
      pdf_data:
        type: object
        description: pdf content
  getFilesResponse:
    type: object
    properties:
      filesData:
        type: array
        items:
          $ref: '#/definitions/getFileResponse'
        description: files data array
      count:
        type: integer
        format: int32
        description: count of files
  getFileRequest:
    type: object
    properties:
      path:
        type: string
        description: path of file
  getFilesRequest:
    type: object
    properties:
      filePaths:
        type: array
        items:
          $ref: '#/definitions/getFileRequest'
        description: file paths array